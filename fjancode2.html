<!DOCTYPE html>
<html lang="ja">
    <head>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-138522842-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'UA-138522842-1');
        </script>

        <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

        <meta charset="UTF-8">
        <title>第２回関数じゃんけん大会で使用されたコード（一部） - 広島大学じゃんけんサークル</title>
        <meta name="viewport" content="width=device-width">
        <link href="https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c|Noto+Sans+SC|Noto+Serif+SC|M+PLUS+1p" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=M+PLUS+1p&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@HU_janken" />
        <meta property="og:url" content="https://hu-janken.netlify.com/fjancode2.html" />
        <meta property="og:title" content="第２回関数じゃんけん大会で使用されたコード（一部） - 広島大学じゃんけんサークル" />
        <meta property="og:description" content="じゃんけんのデータやコード置き場です" />
        <meta property="og:image" content="https://hu-janken.netlify.com/img/jankendata.png" />
        <link rel="stylesheet" href="style.css">
        
        <!-- ファビコン用設定 -->
        <meta name="msapplication-square70x70logo" content="favicons/site-tile-70x70.png">
        <meta name="msapplication-square150x150logo" content="favicons/site-tile-150x150.png">
        <meta name="msapplication-wide310x150logo" content="favicons/site-tile-310x150.png">
        <meta name="msapplication-square310x310logo" content="favicons/site-tile-310x310.png">
        <meta name="msapplication-TileColor" content="#0078d7">
        <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="favicons/favicon.ico">
        <link rel="icon" type="image/vnd.microsoft.icon" href="favicons/favicon.ico">
        <link rel="apple-touch-icon" sizes="57x57" href="favicons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="favicons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="favicons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="favicons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="favicons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="favicons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="favicons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="favicons/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="36x36" href="favicons/android-chrome-36x36.png">
        <link rel="icon" type="image/png" sizes="48x48" href="favicons/android-chrome-48x48.png">
        <link rel="icon" type="image/png" sizes="72x72" href="favicons/android-chrome-72x72.png">
        <link rel="icon" type="image/png" sizes="96x96" href="favicons/android-chrome-96x96.png">
        <link rel="icon" type="image/png" sizes="128x128" href="favicons/android-chrome-128x128.png">
        <link rel="icon" type="image/png" sizes="144x144" href="favicons/android-chrome-144x144.png">
        <link rel="icon" type="image/png" sizes="152x152" href="favicons/android-chrome-152x152.png">
        <link rel="icon" type="image/png" sizes="192x192" href="favicons/android-chrome-192x192.png">
        <link rel="icon" type="image/png" sizes="256x256" href="favicons/android-chrome-256x256.png">
        <link rel="icon" type="image/png" sizes="384x384" href="favicons/android-chrome-384x384.png">
        <link rel="icon" type="image/png" sizes="512x512" href="favicons/android-chrome-512x512.png">
        <link rel="icon" type="image/png" sizes="36x36" href="favicons/icon-36x36.png">
        <link rel="icon" type="image/png" sizes="48x48" href="favicons/icon-48x48.png">
        <link rel="icon" type="image/png" sizes="72x72" href="favicons/icon-72x72.png">
        <link rel="icon" type="image/png" sizes="96x96" href="favicons/icon-96x96.png">
        <link rel="icon" type="image/png" sizes="128x128" href="favicons/icon-128x128.png">
        <link rel="icon" type="image/png" sizes="144x144" href="favicons/icon-144x144.png">
        <link rel="icon" type="image/png" sizes="152x152" href="favicons/icon-152x152.png">
        <link rel="icon" type="image/png" sizes="160x160" href="favicons/icon-160x160.png">
        <link rel="icon" type="image/png" sizes="192x192" href="favicons/icon-192x192.png">
        <link rel="icon" type="image/png" sizes="196x196" href="favicons/icon-196x196.png">
        <link rel="icon" type="image/png" sizes="256x256" href="favicons/icon-256x256.png">
        <link rel="icon" type="image/png" sizes="384x384" href="favicons/icon-384x384.png">
        <link rel="icon" type="image/png" sizes="512x512" href="favicons/icon-512x512.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicons/icon-16x16.png">
        <link rel="icon" type="image/png" sizes="24x24" href="favicons/icon-24x24.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicons/icon-32x32.png">
        <link rel="manifest" href="favicons/manifest.json">
    </head>

    <body class = "post fjancode">

        <header>広島大学じゃんけん<br>サークル</header>

        <nav>
            <ul>
                <li><a href="index.html">トップ</a></li>
                <li><a href="about.html">サークル詳細</a></li>
                <li><a href="diary01.html">日記とか</a></li>
                <li><a href="data.html">じゃんけんデータ</a></li>
                <li><a href="contact.html">お問い合わせ</a></li>
            </ul>
        </nav>

        <div class="title"><h1>第２回関数じゃんけん大会で使用されたコード（一部）</h1></div>

        <article>

            <h2>K.W.</h2>

            <p>データじゃんけん</p>
            <pre><code class="prettyprint" lang-css>
int p(unsigned long int n, unsigned long int w){
    int x;
    static int ncount;
    static int ccount;
    static int wcount;

    if((n != ncount) && (n%100 == 0) && (n != 0) ){
        if(((float)w - wcount)/100 &lt; 1/3.0){
            ccount++;
        }
        wcount=w;
    }
    if(n%2==0){
        x = 0 + 2*ccount;
    }
    else{
        x=1 + 2*ccount;
    }
    ncount=n;
    return x % 3;
}
            </code></pre>

            <h2>ふるた</h2>

            <p>static int型の変数3つでグーチョキパーがでた回数をカウントし、3回ごとに出が少ないものを出してなるべくバランスよく手を出すことを心がけた</p>
            <pre><code class="prettyprint" lang-css>
int p (unsigned long int n, unsigned long int w){
    static unsigned long int count_g=0, count_p=0, count_c=0;
    if (n == 0)
        return 0;

    int a[15] = {0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2}; /* 0が5回　1が5回　2が5回 */
    int b[15] = {0, 1, 1, 2, 2, 0, 1, 1, 2, 2, 0, 1, 1, 2, 2}; /* 0が3回　1が6回　2が6回 */
    int c[15] = {0, 0, 1, 2, 2, 0, 0, 1, 2, 2, 0, 0, 1, 2, 2}; /* 0が6回　1が3回　2が6回 */
    int d[15] = {0, 0, 1, 1, 2, 0, 0, 1, 1, 2, 0, 0, 1, 1, 2}; /* 0が6回　1が6回　2が3回 */
    int e[15] = {0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1}; /* 0が7回　1が8回　2が0回 */
    int f[15] = {1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2}; /* 0が0回　1が7回　2が8回 */
    int g[15] = {2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0}; /* 0が8回　1が0回　2が7回 */

    unsigned long int parameter=(n*2)%15;
    int num, furuta = n % 2;
    double rate = w / n; //勝率 
    if (n &lt;= 1000)
        num = a[parameter];

    if (n > 1000){
        num = b[parameter];
        if ( n > 4000 && rate &lt; 0.6 ){                                                                                                                                                                   
            switch (furuta){
                case 0:
                    num = c[parameter];
                    break;
            
                default:
                    num = d[parameter];
                    break;
            }
        }
    }


    if(n % 3 == 0){
        if(count_g&lt;count_c && count_g&lt;count_p)
        num = 0;
        else if(count_c&lt;count_g && count_c&lt;count_p)
        num = 1;
        else if(count_p&lt;count_c && count_p&lt;count_g)
        num = 2;
    }


    if(num == 0)
        count_g++;
    else if(num == 1)
        count_c++;
    else if(num == 2)
        count_p++;

    return num;
}
            </code></pre>

            
            <h2>たそがれ</h2>

            <pre><code class="prettyprint" lang-css>
int p(unsigned long int n, unsigned long int w){
    return ((int)fabs(n * sin(n) ))%3; //|sin n| × n を3で割った余り
}
            </code></pre>

            
            <h2>タカ</h2>

            <pre><code class="prettyprint" lang-css>
int p(unsigned long int n, unsigned long int w){
    int i = 0, k = 0;

    if (w &lt;= 5000){
        while ((n = (n >> i)) != 0){
            if (n & 1 == 1){
                k++;
            }
            i++;
        }
    }
    else{
        while ((n = ((~n) >> i)) != 0){
            if (n & 1 == 1){
                k++;
            }
            i++;
        }
    }
    return k % 3;
}
            </code></pre>

            
            <h2>とくめい</h2>

            <p>思ってたのと違う</p>
            <pre><code class="prettyprint" lang-css>
int p(unsigned long int n, unsigned long int w){
    static int o_hand[3] = {};
    static int w_pre = 0;
    static int h_pre;
    static int wcount = 0;
    static int nwcount = 0;
    int i, max, max_i, tmp;

    if (n == 0){
        h_pre = 0;
        return 0;
    }

    if(w == w_pre){
        o_hand[(h_pre + 2) % 3]++;
        nwcount++;
    }
    else{
        o_hand[(h_pre + 1) % 3]++;
        if(n >= 3000){
            wcount++;
        }
    }
    

    if (n &lt; 1000){
        h_pre = 0;
        return 0;
    }
    else if(n &lt; 2000){
        h_pre = 1;
        return 1;
    }
    else if(n &lt; 3000){
        h_pre = 2;
        return 2;
    }
    else{
        if (nwcount == 1000){
            if(wcount > 1000){
                for (i = 0; i &lt;= 1; i++){
                    tmp = o_hand[i];
                    o_hand[i] = o_hand[i + 1];
                    o_hand[i + 1] = tmp;
                }
            }
            nwcount = 0;
            wcount = 0;
        }

        max = 0;
        for(i = 0; i &lt;= 2; i++){
            if (o_hand[i] > max){
                max = o_hand[i];
                max_i = i;
            }
        }

        h_pre = (max_i + 2) % 3;
        return h_pre;
    }
}
            </code></pre>

        </article>

        <footer>&copy; 2019 Hiroshima University Janken Club</footer>

    </body>
</html>